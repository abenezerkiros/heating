---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import { Image } from 'astro:assets';
import {
  ArrowRight,
  Calendar,
  CheckCircle,
  Phone,
  Shield,
  Flame,
  Zap,
  Droplets,
  Wrench,
  Thermometer
} from 'lucide-react';
import { SITE } from '../config';

// Services data (replace with your content collection if you have one)
const services = [
  {
    title: "Central Heating Repairs",
    icon: Thermometer,
    description: "Fast, reliable repairs for all central heating systems including pumps, valves, and thermostats",
    color: "from-blue-500 to-blue-600"
  },
  {
    title: "Boiler Servicing",
    icon: Flame,
    description: "Annual boiler servicing and maintenance to ensure efficiency and safety compliance",
    color: "from-orange-500 to-red-500"
  },
  {
    title: "Hot Water Cylinders Repairs",
    icon: Droplets,
    description: "Expert repair and maintenance of hot water cylinders and tanks",
    color: "from-cyan-500 to-blue-500"
  },
  {
    title: "Hot Water Cylinder Installation",
    icon: Droplets,
    description: "Professional installation of new hot water cylinders and replacement services",
    color: "from-blue-400 to-cyan-500"
  },
  {
    title: "Immersion Heater Repairs",
    icon: Zap,
    description: "Repair and replacement of faulty immersion heaters for reliable hot water",
    color: "from-yellow-500 to-amber-500"
  },
  {
    title: "Radiator Installation",
    icon: Thermometer,
    description: "New radiator installation for room extensions or system upgrades",
    color: "from-green-500 to-emerald-600"
  },
  {
    title: "Radiator Repairs",
    icon: Wrench,
    description: "Repair of leaking, cold spots, or noisy radiators",
    color: "from-emerald-500 to-green-600"
  },
  {
    title: "Radiator Replacement",
    icon: Thermometer,
    description: "Complete replacement of old or inefficient radiators",
    color: "from-teal-500 to-green-500"
  },
  {
    title: "Gas Safety Certificates",
    icon: Shield,
    description: "CP12 Gas Safety Certificates for landlords and homeowners",
    color: "from-amber-500 to-orange-500"
  },
  {
    title: "Boiler Installations",
    icon: Zap,
    description: "Professional installation of new, energy-efficient boilers",
    color: "from-purple-500 to-purple-600"
  },
  {
    title: "Boiler Repairs",
    icon: Flame,
    description: "Emergency and scheduled repairs for all boiler makes and models",
    color: "from-red-500 to-orange-600"
  },
  {
    title: "Gas Cooker Installation",
    icon: Flame,
    description: "Safe installation and connection of gas cookers and hobs",
    color: "from-pink-500 to-rose-500"
  },
  {
    title: "Gas Fire Installation",
    icon: Flame,
    description: "Professional installation of gas fires and fireplace units",
    color: "from-red-600 to-orange-500"
  },
  {
    title: "Gas Pipework Installation",
    icon: Wrench,
    description: "Installation and modification of gas pipework systems",
    color: "from-gray-600 to-gray-800"
  },
  {
    title: "Gas Leak Detection",
    icon: Shield,
    description: "Emergency gas leak detection and repair services",
    color: "from-red-600 to-amber-600"
  },
  {
    title: "Emergency Heating Repairs",
    icon: Phone,
    description: "24/7 emergency heating and boiler repair services",
    color: "from-gray-700 to-gray-900"
  },
  {
    title: "Thermostat Installation",
    icon: Thermometer,
    description: "Smart and programmable thermostat installation",
    color: "from-indigo-500 to-purple-500"
  },
  {
    title: "Power Flushing",
    icon: Droplets,
    description: "System power flushing to improve heating efficiency",
    color: "from-blue-600 to-cyan-500"
  },
  {
    title: "Pump Replacement",
    icon: Zap,
    description: "Circulating pump replacement and repairs",
    color: "from-sky-500 to-blue-500"
  },
  {
    title: "System Upgrades",
    icon: Wrench,
    description: "Complete heating system upgrades and modernizations",
    color: "from-violet-500 to-purple-500"
  }
];

// Get testimonials or service areas from collections if you have them
// const testimonials = await getCollection('testimonials');
// const serviceAreas = await getCollection('areas');
---

<Layout title="Home">
  <!-- Hero Section -->
  <section class="relative h-screen min-h-[600px] flex items-center justify-center overflow-hidden">
    <!-- Background Image - Use a heating-related image -->
    <div class="absolute inset-0 z-0">
      {SITE.hero.image ? (
        <Image 
          class="w-full h-full object-cover" 
          src={SITE.hero.image} 
          alt={SITE.hero.title}
          loading="eager"
          fetchpriority="high"
          decoding="sync"
          quality={60}
          format="webp"
          widths={[640, 1024, 1920]}
          sizes="100vw"
        />
      ) : (
        <div class="w-full h-full bg-gradient-to-br from-blue-900 to-gray-800"></div>
      )}
      <!-- Warm Gradient Overlay for Heating Theme -->
      <div class="absolute inset-0 bg-gradient-to-r from-blue-900/90 via-blue-800/60 to-transparent"></div>
      <!-- Subtle Texture -->
      <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(#ffffff 1px, transparent 1px); background-size: 32px 32px;"></div>
    </div>

    <!-- Content -->
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
      <div class="max-w-3xl">
        <div class="mb-4">
          <span class="inline-flex items-center px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm text-white text-sm font-medium border border-white/20">
            <Shield className="w-4 h-4 mr-2" />
            24/7 Emergency Heating Services
          </span>
        </div>
        
        <h1 class=" font-extrabold text-white sm:text-6xl md:text-7xl mb-6 drop-shadow-lg leading-tight">
          <span class="block xl:inline">{SITE.hero.title || "Expert Heating & Boiler Services"}</span>
        </h1>
        <p class="mt-4 text-xl text-gray-300 sm:max-w-2xl md:text-2xl drop-shadow-md">
          {SITE.hero.subtitle || "Professional, reliable heating solutions for your home. Gas Safe registered engineers available 24/7."}
        </p>
        
        <!-- Key Benefits -->
        <div class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl">
          <div class="flex items-center text-white">
            <CheckCircle className="w-5 h-5 mr-2 text-green-400" />
            <span class="text-sm md:text-base">Gas Safe Registered</span>
          </div>
          <div class="flex items-center text-white">
            <CheckCircle className="w-5 h-5 mr-2 text-green-400" />
            <span class="text-sm md:text-base">24/7 Emergency</span>
          </div>
          <div class="flex items-center text-white">
            <CheckCircle className="w-5 h-5 mr-2 text-green-400" />
            <span class="text-sm md:text-base">Same Day Service</span>
          </div>
          <div class="flex items-center text-white">
            <CheckCircle className="w-5 h-5 mr-2 text-green-400" />
            <span class="text-sm md:text-base">Free Quotes</span>
          </div>
        </div>

        <div class="mt-10 flex gap-4 flex-wrap">
          <a href="tel:YOUR-PHONE-NUMBER" class="flex items-center justify-center px-8 py-4 border border-transparent text-lg font-medium rounded-full text-white bg-orange-500 hover:bg-orange-600 transition-all duration-300 shadow-[0_0_20px_rgba(255,107,0,0.3)] hover:shadow-[0_0_30px_rgba(255,107,0,0.5)]">
            <Phone className="w-5 h-5 mr-2" />
            Emergency Call Now
          </a>
          <a href="/services" class="flex items-center justify-center px-8 py-4 border-2 border-white/30 text-lg font-medium rounded-full text-white hover:bg-white/10 transition-all duration-300 backdrop-blur-sm">
            Our Services
            <ArrowRight className="w-5 h-5 ml-2" />
          </a>
        </div>
      </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce text-white/50">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </section>

  <!-- Our Services -->
  <section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900">Our Heating Services</h2>
        <p class="mt-4 text-xl text-gray-600 max-w-3xl mx-auto">
          Comprehensive heating solutions for residential and commercial properties
        </p>
      </div>

      <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-4">
        {services.map(service => {
          const Icon = service.icon;
          return (
            <a 
              href={`/${service.title.toLowerCase().replace(/\s+/g, '-')}`}
              class="bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-lg transition-all hover:-translate-y-2 overflow-hidden flex flex-col h-full group"
            >
              <div class={`h-2 bg-gradient-to-r ${service.color}`}></div>
              <div class="p-6 flex flex-col flex-grow">
                <div class="mb-4">
                  <div class={`inline-flex p-3 rounded-lg bg-gradient-to-r ${service.color} bg-opacity-10`}>
                    <Icon className="w-6 h-6" style={{ color: `white` }} />
                  </div>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors">
                  {service.title}
                </h3>
                <p class="text-gray-600 text-sm flex-grow">
                  {service.description}
                </p>
                <div class="mt-4 pt-4 border-t border-gray-100">
                  <span class="text-blue-600 text-sm font-medium flex items-center group-hover:translate-x-1 transition-transform">
                    Learn more
                    <ArrowRight className="w-4 h-4 ml-1" />
                  </span>
                </div>
              </div>
            </a>
          );
        })}
      </div>
      
      <div class="text-center mt-12">
        <a href="/services" class="inline-flex items-center px-6 py-3 border-2 border-blue-600 text-lg font-medium rounded-full text-blue-600 hover:bg-blue-600 hover:text-white transition-all duration-300">
          View All Services
          <ArrowRight className="w-5 h-5 ml-2" />
        </a>
      </div>
    </div>
  </section>

  <!-- Why Choose Us -->
  <section class="py-16 bg-gradient-to-b from-white to-blue-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <h2 class="text-3xl font-bold text-gray-900 mb-6">Why Choose Our Heating Services</h2>
          <div class="space-y-6">
            <div class="flex items-start">
              <div class="flex-shrink-0">
                <Shield className="w-6 h-6 text-green-500" />
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Gas Safe Registered</h3>
                <p class="text-gray-600">All our engineers are Gas Safe registered and fully qualified</p>
              </div>
            </div>
            <div class="flex items-start">
              <div class="flex-shrink-0">
                <Calendar className="w-6 h-6 text-blue-500" />
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Same Day Service</h3>
                <p class="text-gray-600">Emergency call-outs available 24/7 with same-day service</p>
              </div>
            </div>
            <div class="flex items-start">
              <div class="flex-shrink-0">
                <CheckCircle className="w-6 h-6 text-orange-500" />
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900">Quality Guarantee</h3>
                <p class="text-gray-600">All work guaranteed with 12-month warranty on parts and labor</p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="bg-white rounded-xl shadow-lg p-8">
          <h3 class="text-2xl font-bold text-gray-900 mb-6">Book a Service</h3>
          <div class="space-y-4">
            <a href="tel:YOUR-PHONE-NUMBER" class="flex items-center justify-center px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
              <Phone className="w-5 h-5 mr-3" />
              <span class="text-lg font-semibold">Call: YOUR-PHONE-NUMBER</span>
            </a>
            <p class="text-center text-gray-500 text-sm">or</p>
            <a href="/contact" class="block text-center px-6 py-4 border-2 border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold">
              Request a Callback
            </a>
          </div>
          
          <div class="mt-8 p-6 bg-blue-50 rounded-lg">
            <h4 class="font-semibold text-gray-900 mb-2">Emergency Boiler Repair?</h4>
            <p class="text-sm text-gray-600 mb-3">We offer 24/7 emergency services for boiler breakdowns</p>
            <a href="tel:EMERGENCY-PHONE" class="text-orange-600 font-semibold text-sm hover:text-orange-700">
              Emergency Line: EMERGENCY-PHONE →
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Service Areas / Testimonials -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-2 gap-12">
        <!-- Service Areas -->
        <div>
          <h2 class="text-3xl font-bold text-gray-900 mb-8">Areas We Cover</h2>
          <div class="grid grid-cols-2 gap-4">
            {['London', 'Manchester', 'Birmingham', 'Leeds', 'Liverpool', 'Bristol', 'Glasgow', 'Edinburgh'].map(area => (
              <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                <CheckCircle className="w-5 h-5 text-green-500 mr-3" />
                <span class="font-medium text-gray-900">{area}</span>
              </div>
            ))}
          </div>
          <p class="mt-6 text-gray-600">We cover all major cities and surrounding areas. Contact us to check availability in your location.</p>
        </div>
        
        <!-- Testimonial -->
        <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-8">
          <div class="flex items-center mb-4">
            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
              <span class="text-blue-600 font-bold text-xl">JS</span>
            </div>
            <div class="ml-4">
              <h4 class="font-semibold text-gray-900">John Smith</h4>
              <p class="text-sm text-gray-600">Manchester</p>
            </div>
          </div>
          <p class="text-gray-700 italic text-lg mb-4">
            "Emergency boiler repair on a Sunday night! The engineer arrived within 2 hours and had us back with heating and hot water. Professional, efficient, and reasonably priced."
          </p>
          <div class="flex text-amber-400">
            {"★".repeat(5)}
          </div>
          <div class="mt-6 text-center">
            <a href="/testimonials" class="text-blue-600 font-medium hover:text-blue-700">
              Read more testimonials →
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>